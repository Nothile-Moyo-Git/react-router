"use strict";(self.webpackChunkreact_router=self.webpackChunkreact_router||[]).push([[632],{632:function(e,t,s){s.r(t),s.d(t,{default:function(){return f}});var n=s(152),o=s(523),r=s(931),c=s(791),u=s(184),i=function(e){var t=(0,c.useRef)(),s=(0,c.useState)(!1),i=(0,n.Z)(s,2),a=i[0],d=i[1],l=(0,c.useState)(!1),h=(0,n.Z)(l,2),m=h[0],f=h[1],x=function(){f(!1)};return(0,u.jsxs)("li",{children:[(0,u.jsx)(r.NL,{when:m,message:function(e){return"Are you sure you want to leave? All your entered data will be lost!"}}),!0===a&&!0===e.showForm&&(0,u.jsxs)("form",{onSubmit:function(s){s.preventDefault(),e.editQuote(e.id,t.current.value,e.author),x()},className:"item item--form",onFocus:function(){f(!0)},children:[(0,u.jsx)("textarea",{rows:5,defaultValue:e.text,ref:t}),(0,u.jsxs)("div",{className:"item__buttons item__buttons--horizontal",children:[(0,u.jsx)("button",{className:"btn",children:"Submit"}),(0,u.jsx)("button",{className:"btn",onClick:function(){d(!1),e.setShowForm(!1)},children:"Cancel"})]})]}),(!1===a||!1===e.showForm)&&(0,u.jsxs)("div",{className:"item",children:[(0,u.jsxs)("figure",{children:[(0,u.jsx)("blockquote",{children:(0,u.jsx)("p",{children:e.text})}),(0,u.jsx)("figcaption",{children:e.author})]}),(0,u.jsxs)("div",{className:"item__buttons",children:[(0,u.jsx)("button",{className:"btn",onClick:function(){d(!0),e.setShowForm(!0)},children:"Edit"}),(0,u.jsx)(o.rU,{to:"/quotes/".concat(e.id),className:"btn",children:"View Fullscreen"})]}),(0,u.jsx)("button",{className:"item__delete",onClick:function(){e.deleteQuote(e.id)},children:"x"})]})]})},a=(s(821),function(e){var t,s,n=(0,r.k6)(),o=(0,r.TH)(),c="asc"===new URLSearchParams(o.search).get("sort"),a=(t=e.quotes,s=c,t.sort((function(e,t){return s?e.id>t.id?1:-1:e.id<t.id?1:-1}))),d=function(t){e.updateQuotes(t)},l=function(t,s,n){e.editQuote(t,s,n)};return(0,u.jsxs)("section",{className:"main",children:[(0,u.jsx)("div",{className:"sorting",children:(0,u.jsx)("button",{onClick:function(){n.push({pathname:o.pathname,search:"?sort=".concat(c?"desc":"asc")})},children:"Sort ".concat(c?"Descending":"Ascending")})}),(0,u.jsx)("ul",{className:"list",children:a.map((function(t){return(0,u.jsx)(i,{id:t.id,author:t.author,text:t.text,deleteQuote:d,editQuote:l,showForm:e.showForm,setShowForm:e.setShowForm},t.id)}))})]})}),d=s(995),l=s(853),h=s(997),m=function(){return(0,u.jsxs)("div",{className:"no-quotes",children:[(0,u.jsx)("p",{children:"No quote(s) found!"}),(0,u.jsx)(o.rU,{className:"btn",to:"/new-quote",children:"Add a Quote"})]})},f=function(e){var t=(0,d.Z)(l.Yv,!0),s=t.sendRequest,n=t.status,o=t.data,r=t.error;(0,c.useEffect)((function(){s({method:"fetch"})}),[s]);return"pending"===n?(0,u.jsx)("div",{className:"centered",children:(0,u.jsx)(h.Z,{})}):"error"===n?(0,u.jsx)("p",{className:"centered focused",children:r}):"completed"!==n||o&&0!==o.length?(0,u.jsx)(a,{quotes:o,updateQuotes:function(e){s({method:"delete",quoteId:e})},editQuote:function(e,t,n){s({method:"update",quoteId:e,quoteText:t,author:n})},showForm:e.showForm,setShowForm:e.setShowForm}):(0,u.jsx)(m,{})}}}]);
//# sourceMappingURL=632.0968de85.chunk.js.map